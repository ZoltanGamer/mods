###########################
# Hungarian Flavor Events #
###########################

add_namespace = hungary_flavor

#########
#HUNGARY#
#########

# Welcome to Hungarian Flavor
country_event = {
	id = hungary_flavor.1
	title = hungary_flavor.1.t
	desc = hungary_flavor.1.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		tag = HUN
		is_ai = no
		date > 1934.1.1
	}

	mean_time_to_happen = {
		hours = 1
	}
	
	fire_only_once = yes
	
	#Realism
	option = {
		name = hungary_flavor.1.a
		ai_chance = { 
			factor = 1
		}
		custom_effect_tooltip = hungary_flavor.1.realism
	}
	
	#No realism
	option = {
		name = hungary_flavor.1.b
		ai_chance = { 
			factor = 0
		}
		custom_effect_tooltip = hungary_flavor.1.no_realism
		hidden_effect = { clr_country_flag = HUN_realism }
	}
}

# Czechoslovakia yields
country_event = {
	id = hungary_flavor.12
	title = hungary_flavor.12.t
	desc = hungary_flavor.12.d
	picture = GFX_report_event_HUN_czechoslovakia
	
	is_triggered_only = yes
	
	#Excellent
	option = {
		name = hungary_flavor.12.a
		add_named_threat = { threat = 2 name = HUN_demanded_slovakia_threat }
		transfer_state =  70		#Western Slovakia
		transfer_state =  71		#Eastern Slovakia
		transfer_state =  73		#Carpathian Ruthenia
		transfer_state =  748		#Beregszasz
		transfer_state =  762		#Beregszasz
		transfer_state =  770		#Beregszasz
		transfer_state =  776		#Beregszasz
		transfer_state =  779		#Beregszasz
		transfer_state =  664		#Southern Slovakia
		hidden_effect = { 
			#ROOT has been a badboy
			add_badboy_flag = yes
			if = {
				hidden_effect = { worsen_relations_with_ENG = yes }
				custom_effect_tooltip = HUN_relations_with_ENG_will_deterioriate
				limit = { NOT = { has_war_with = ENG} }
				ENG = { country_event = { hours = 4 id = hungary_flavor_gen.4 } }
			}
		}
	}
}

# Czechoslovakia refuses
country_event = {
	id = hungary_flavor.13
	title = hungary_flavor.13.t
	desc = hungary_flavor.13.d
	picture = GFX_report_event_HUN_czechoslovakia
	
	is_triggered_only = yes
	
	#They will beg for mercy
	option = {
		name = hungary_flavor.13.a		
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 70 71 73 }
		}
	}
}
# Romania issues a counterdemand!
country_event = {
	id = hungary_flavor.20
	title = hungary_flavor.20.t
	desc = hungary_flavor.20.d
	picture = GFX_report_event_HUN_alfold_to_romania
	
	is_triggered_only = yes
	
	immediate = {
		ROM = { add_state_claim = 154 }	#Alföld
	}
	
	#This means war.
	option = {
		name = hungary_flavor.20.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				has_government = fascism
			}
		}
		declare_war_on = { target = ROM type = annex_everything }
		ROM = { country_event = { hours = 6 id = hungary_flavor_rom.6 } }
	}
	
	#What a preposterous idea.
	option = {
		name = hungary_flavor.20.b
		ai_chance = {
			factor = 70
		}		
		create_wargoal = {
			type = take_state_focus
			target = ROM
			generator = { 752 76 84 83 753 }
		}
		ROM = { country_event = { hours = 6 id = hungary_flavor_rom.6 } }
	}
	
	#We didn't expect this. Withdraw from the Transtisza region.
	option = {
		name = hungary_flavor.20.c
		ai_chance = {
			factor = 20
			modifier = {
				factor = 5
				has_government = fascism
			}
		}
		ROM = { 
			effect_tooltip = {
				transfer_state = 154 #Alföld
				if = {
					limit = { HUN = { owns_state = 744 } }	#Pancevo
					transfer_state = 744 #Pancevo
				}
			}
			country_event = { hours = 6 id = hungary_flavor_rom.7 } 
		}
	}
}
# Romania yields
country_event = {
	id = hungary_flavor.21
	title = hungary_flavor.21.t
	desc = hungary_flavor.21.d
	picture = GFX_report_event_HUN_transylvania
	
	is_triggered_only = yes
	
	#Excellent
	option = {
		name = hungary_flavor.21.a
		add_named_threat = { threat = 3 name = HUN_demanded_transylvania_threat }
		#transfer_state = 82 	#Banat
		transfer_state = 83		#Grisana
		transfer_state = 84		#Transylvania
		transfer_state = 76		#North Transylvania	
		transfer_state = 752	#Maramaros
		transfer_state = 753	#Northern Partium	
		transfer_state = 773	#Northern Partium	
		transfer_state = 774	#Northern Partium	
		transfer_state = 777	#Northern Partium	
		transfer_state = 778	#Northern Partium	
		hidden_effect = { 
			#ROOT has been a badboy
			add_badboy_flag = yes
			if = {
				hidden_effect = { worsen_relations_with_ENG = yes }
				custom_effect_tooltip = HUN_relations_with_ENG_will_deterioriate
				limit = { NOT = { has_war_with = ENG} }
				ENG = { country_event = { hours = 4 id = hungary_flavor_gen.4 } }
			}
		}
	}
}

# Romania refuses
country_event = {
	id = hungary_flavor.22
	title = hungary_flavor.22.t
	desc = hungary_flavor.22.d
	picture = GFX_report_event_HUN_transylvania
	
	is_triggered_only = yes
	
	#They will beg for mercy
	option = {
		name = hungary_flavor.22.a			
		create_wargoal = {
			type = take_state_focus
			target = ROM
			generator = { 752 76 84 83 753 }
		}
	}
}

# British decree against Hungarian/Austro-Hungarian expansion
country_event = {
	id = hungary_flavor.44
	title = hungary_flavor.44.t
	desc = hungary_flavor.44.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	#Let them try
	option = {
		name = hungary_flavor.44.a
	}
}

# Austria allows Burgenland referendum
country_event = {
	id = hungary_flavor.45
	title = hungary_flavor.45.t
	desc = hungary_flavor.45.d
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	#Excellent.
	option = {
		name = hungary_flavor.45.a
		if = {
			limit = { has_country_flag = HUN_realism }
			random_list = { 
				70 = {  #was 50, when was buggy
					transfer_state = 743 #Burgenland 
					add_state_core = 743 #Burgenland
				} 
				30 = { }
			}
			else = {
				random_list = { 
					90 = { 
						transfer_state = 743 #Burgenland 
						add_state_core = 743 #Burgenland
					} 
					10 = { }
				}
			}
		}
	}
}

# Austria disallows Burgenland referendum
country_event = {
	id = hungary_flavor.46
	title = hungary_flavor.46.t
	desc = hungary_flavor.46.d
	picture = GFX_report_event_HUN_burgenland
	
	is_triggered_only = yes
	
	#Disappointing.
	option = {
		name = hungary_flavor.46.a
		add_opinion_modifier = { target = AUS modifier = HUN_disallowed_referendum } 	
	}
}


# Slovenia for Burgenland
country_event = {
	id = hungary_flavor.47
	title = hungary_flavor.47.t
	desc = hungary_flavor.47.d
	picture = GFX_report_event_HUN_burgenland
	
	fire_only_once = yes
	
	trigger = {
		tag = HUN
		NOT = { has_war_with = AUS }
		owns_state = 102	#Slovenia
		controls_state = 102	#Slovenia
		AUS = { owns_state = 743 }	#Burgenland
		AUS = { controls_state = 743 }	#Burgenland
	}
	
	mean_time_to_happen = {
		days = 200
	}
	
	#Of course.
	option = {
		name = hungary_flavor.47.a
		set_country_flag = HUN_offering_slovenia_to_austria
		AUS = { country_event = { hours = 4 id = hungary_flavor_aus.3 } }
	}
	
	#The borders are good just the way they are.
	option = {
		name = hungary_flavor.47.b
	}
}


# Austria accepts Slovenian trade
country_event = {
	id = hungary_flavor.48
	title = hungary_flavor.48.t
	desc = hungary_flavor.48.d
	picture = GFX_report_event_HUN_burgenland
	
	is_triggered_only = yes
	
	#Very well.
	option = {
		name = hungary_flavor.48.a
		transfer_state = 743 	#Burgenland
		hidden_effect = {	
			#Cleanup of troops
			if = {
				limit = {
					has_country_flag = HUN_is_partitioning_YUG
					NOT = { has_country_flag = HUN_end_of_yugoslavian_partition }
				}
				if = {
					limit = { has_country_flag = HUN_offering_ljubljana_to_austria }
					#end of negotiation
					news_event = { hours = 4 id = hun_news.1 }
					else = {
						country_event = { hours = 4 id = hungary_flavor_partition.18 }
					}
				}
			}
		}
	}
}


# Austria declines Slovenian trade
country_event = {
	id = hungary_flavor.49
	title = hungary_flavor.49.t
	desc = hungary_flavor.49.d
	picture = GFX_report_event_HUN_burgenland
	
	is_triggered_only = yes
	
	#Strange.
	option = {
		name = hungary_flavor.49.a
		if = {
			limit = { 
				has_country_flag = HUN_is_partitioning_YUG
				NOT = { has_country_flag = HUN_end_of_yugoslavian_partition } 
			}
			if = {
				limit = { has_country_flag = HUN_offering_ljubljana_to_austria }
				country_event = { hours = 4 id = hungary_flavor_partition.16 }
				else = {
				country_event = { hours = 4 id = hungary_flavor_partition.17 }
				}
			}
		}
	}
}

#GYŐRI PROGRAM

# The 'Győri Program'
country_event = {
	id = hungary_flavor.50
	title = hungary_flavor.50.t
	desc = hungary_flavor.50.d
	picture = GFX_report_event_HUN_gyori_program
	
	is_triggered_only = yes
	
	#Approve of the plans.
	option = {
		name = hungary_flavor.50.a
		custom_effect_tooltip = HUN_gyori_program_tt
		add_ideas = funding_the_gyori_program
		hidden_effect = { set_country_flag = HUN_gyori_program }
	}
	
	#This would be too expensive.
	option = {
		name = hungary_flavor.50.b
	}
}

# Győri Program: Phase I
country_event = {
	id = hungary_flavor.51
	title = hungary_flavor.51.t
	desc = hungary_flavor.51.d
	picture = GFX_report_event_physics_lab_02
	
	fire_only_once = yes
	
	trigger = { has_country_flag = HUN_gyori_program }
	
	mean_time_to_happen = { 
		days = 500 
		modifier = {
			factor = 1.05
			has_country_flag = HUN_gyori_program_hindered
		}
	}
	
	#[Root.GetName] will prevail.
	option = {
		name = hungary_flavor.51.a
		add_timed_idea = { idea = gyori_program_research days = 730 }
		add_timed_idea = { idea = gyori_program_industry days = 365 }
		hidden_effect = { set_country_flag = HUN_gyori_program_i }
	}
}

# Győri Program: Phase II
country_event = {
	id = hungary_flavor.52
	title = hungary_flavor.52.t
	desc = hungary_flavor.52.d
	picture = GFX_report_event_british_artillery
	
	fire_only_once = yes
	
	trigger = { has_country_flag = HUN_gyori_program_i }
	
	mean_time_to_happen = { 
		days = 500 
		modifier = {
			factor = 1.05
			has_country_flag = HUN_gyori_program_hindered
		}
	}
	
	#Our army shall be the best.
	option = {
		name = hungary_flavor.52.a
		army_experience = 50
		add_timed_idea = { idea = gyori_program_army_research days = 730 }
		add_timed_idea = { idea = gyori_program_defense days = 365 }
		hidden_effect = { set_country_flag = HUN_gyori_program_ii }
	}
}

# Győri Program: Phase III
country_event = {
	id = hungary_flavor.53
	title = hungary_flavor.53.t
	desc = hungary_flavor.53.d
	picture = GFX_report_event_airplane_factory
	
	fire_only_once = yes
	
	trigger = { has_country_flag = HUN_gyori_program_ii }
	
	mean_time_to_happen = { 
		days = 500 
		modifier = {
			factor = 1.05
			has_country_flag = HUN_gyori_program_hindered
		}
	}
	
	#The skies will know the might of [Root.GetName].
	option = {
		name = hungary_flavor.53.a
		air_experience = 50
		add_timed_idea = { idea = gyori_program_air_research days = 730 }
		add_timed_idea = { idea = gyori_program_air_production days = 730 }
		if = {
			limit = { NOT = { any_owned_state = { is_coastal = yes } } }
			remove_ideas = funding_the_gyori_program
		}
		hidden_effect = { 
			if = {
				limit = { any_owned_state = { is_coastal = yes } }
				set_country_flag = HUN_gyori_program_iii 
			}
		}
	}
}

# Győri Program: Phase IV
country_event = {
	id = hungary_flavor.54
	title = hungary_flavor.54.t
	desc = hungary_flavor.54.d
	picture = GFX_report_event_merchant_ship_01
	
	fire_only_once = yes
	
	trigger = { has_country_flag = HUN_gyori_program_iii }
	
	mean_time_to_happen = { 
		days = 500 
		modifier = {
			factor = 1.05
			has_country_flag = HUN_gyori_program_hindered
		}
	}
	
	#The navy shall be great once again.
	option = {
		name = hungary_flavor.54.a
		navy_experience = 50
		add_timed_idea = { idea = gyori_program_navy_research days = 730 }
		add_timed_idea = { idea = gyori_program_navy_production days = 730 }
		remove_ideas = funding_the_gyori_program
	}
}

# Funding for the Győri Program
country_event = {
	id = hungary_flavor.63
	title = hungary_flavor.63.t
	desc = hungary_flavor.63.d
	picture = GFX_report_event_HUN_gyori_program
	
	fire_only_once = yes
	
	trigger = { has_country_flag = HUN_gyori_program }
	
	mean_time_to_happen = { days = 500 }
	
	#Money is always welcome.
	option = {
		name = hungary_flavor.63.a
		add_political_power = 100
	}
}

# Romania withdraws from Banat
country_event = {
	id = hungary_flavor.86
	title = hungary_flavor.86.t
	desc = hungary_flavor.86.d
	picture = GFX_report_event_HUN_banat
	
	is_triggered_only = yes
	
	#The cowards flee, and the brave conquer
	option = {
		name = hungary_flavor.86.a
		transfer_state = 82		#Banat
		transfer_state = 775		#Banat
	}
}


# Romania refuses to withdraw from Banat
country_event = {
	id = hungary_flavor.87
	title = hungary_flavor.87.t
	desc = hungary_flavor.87.d
	picture = GFX_report_event_HUN_banat
	
	is_triggered_only = yes
	
	#They will regret this.
	option = {
		name = hungary_flavor.87.a
		declare_war_on = { target = ROM type = annex_everything }
	}
	
	#We won't waste sweat and blood for such a small piece of land.
	option = {
		name = hungary_flavor.87.b
		add_political_power = -25
		add_named_threat = { threat = -1 name = HUN_backed_down_from_banat }
		ROM = { country_event = { hours = 6 id = hungary_flavor_rom.4 } }
	}
}

# Miklós Horthy: Regent, or King
country_event = {
	id = hungary_flavor.92
	title = hungary_flavor.92.t
	desc = hungary_flavor.92.d
	picture = GFX_report_event_horthy
	
	fire_only_once = yes
	
	trigger = {
		date > 9999.1.1		#This event is disabled, as it was replaced by a focus
		tag = HUN
		has_government = neutrality
		NOT = { has_completed_focus = HUN_ideological_shift }
	}
	
	mean_time_to_happen = {
		days = 730
	}
	
	#We will not assist in creating another dynasty
	option = {
		name = hungary_flavor.92.a
	}
	
	#Long live the new King!
	option = {
		name = hungary_flavor.92.b
		add_popularity = { ideology = neutrality popularity = 0.1 }
		set_politics = {			
			ruling_party = neutrality
			elections_allowed = no
		}
		set_country_flag = HUN_has_king
	}
}



# Reinstatement of Miklós Horthy
country_event = {
	id = hungary_flavor.93
	title = hungary_flavor.93.t
	desc = hungary_flavor.93.d
	picture = GFX_report_event_horthy
	
	is_triggered_only = yes
	
	#Horthy will become the chief of navy.
	option = {
		name = hungary_flavor.93.a
		
		add_ideas = horthy
		#custom_effect_tooltip = available_political_advisor
		#show_ideas_tooltip = horthy
		set_country_flag = HUN_horthy_as_chief_of_navy
	}
	
	#He will be reestabilished as an admiral.
	option = {
		name = hungary_flavor.93.b
		custom_effect_tooltip = HUN_horthy_becomes_admiral

		hidden_effect = {
			create_navy_miklos_horthy = yes
		}
	}
}

# Trianon restrictions invalidated
country_event = {
	id = hungary_flavor.98
	title = hungary_flavor.98.t
	desc = {
		text = hungary_flavor.98.d
		trigger = { 
			is_in_faction = yes
			is_faction_leader = no
		}
	}
	desc = {
		text = hungary_flavor.98.d_2
		trigger = { 
			OR  = {
				threat > 0.50
				date > 1940.1.1
			}
		}
	}
	picture = GFX_report_event_HUN_trianon
	
	fire_only_once = yes
	
	trigger = {
		tag = HUN
		has_idea = trianon_restrictions
		OR = {
			AND = {
				is_in_faction = yes
				is_faction_leader = no		
			}
			OR  = {
				threat > 0.50
				date > 1940.1.1
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	#Together we are strong.
	option = {
		trigger = { 
			is_in_faction = yes
			is_faction_leader = no
		}
		name = hungary_flavor.98.a
		remove_ideas = trianon_restrictions
	}
	
	#Were those restrictions still valid? I didn't notice.
	option = {
		trigger = { 
			OR  = {
				threat > 0.50
				date > 1940.1.1
			}
		}
		name = hungary_flavor.98.b
		remove_ideas = trianon_restrictions
	}
}

# Györi Program goes against Trianon restrictions
country_event = {
	id = hungary_flavor.99
	title = hungary_flavor.99.t
	desc = hungary_flavor.99.d
	picture = GFX_report_event_HUN_trianon
	
	trigger = {
		has_country_flag = HUN_gyori_program
		has_idea = trianon_restrictions
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	#We will openly disobey the constraints
	option = {
		name = hungary_flavor.99.a
		remove_ideas = trianon_restrictions
		every_country = {
			limit = {
				OR = {
					TAG = ENG
					TAG = FRA
					is_in_faction_with = ENG
					is_in_faction_with = FRA
				}
			}
			add_opinion_modifier = { target = ROOT modifier = HUN_disobeyed_trianon_restrictions }
		}
	}
	
	#Perform the restricted research in secret
	option = {
		name = hungary_flavor.99.b
		add_political_power = -50
	}
	
	#Try our best to stay within the boundaries.
	option = {
		name = hungary_flavor.99.c
		custom_effect_tooltip = hungary_flavor.99.tt
		hidden_effect = { set_country_flag = HUN_gyori_program_hindered }
	}
}

# Germany offers Carpathian Ruthenia
country_event = {
	id = hungary_flavor.104
	title = hungary_flavor.104.t
	desc = hungary_flavor.104.d
	picture = GFX_report_event_HUN_carpathian_ruthenia
	
	is_triggered_only = yes
	
	#We accept the territory.
	option = {
		name = hungary_flavor.104.a
		ai_chance = { factor = 100 }
		transfer_state = 73		#Carpathian Ruthenia
	}
	
	#We don't care about borders.
	option = {
		name = hungary_flavor.104.b
		ai_chance = { factor = 0 }
		SLO = { transfer_state = 73 }	#Carpathian Ruthenia
	}
}

# Hungarian-Slovakian Small War
country_event = {
	id = hungary_flavor.106
	title = hungary_flavor.106.t
	desc = hungary_flavor.106.d
	picture = GFX_hun_slo_small_war
	
	fire_only_once = yes
	
	trigger = {
		tag = HUN
		has_country_flag = HUN_first_vienna_award
		owns_state = 73 # Carpathian Ruthenia
		OR = {
			SLO = { 
				exists = yes 
				owns_state = 71 #Eastern Slovakia
			}
			CZE = { 
				exists = yes 
				owns_state = 71 #Eastern Slovakia
			}
		}
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	#A great success for out nation.
	option = {
		name = hungary_flavor.106.a
		add_manpower = -25
		hidden_effect = { 
			if = { limit = { SLO = { exists = yes } } SLO = { country_event = { hours = 1 id = hungary_flavor_cze.7 } } }
			if = { limit = { CZE = { exists = yes } } CZE = { country_event = { hours = 1 id = hungary_flavor_cze.7 } } }
		}
	}
}

# Germany offers the rest of Vojvodina
country_event = {
	id = hungary_flavor.114
	title = hungary_flavor.114.t
	desc = hungary_flavor.114.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	#We will accept of course.
	option = {
		name = hungary_flavor.114.a
		transfer_state = 744	#Pancevo 
		transfer_state = 745	#Ruma 
		add_opinion_modifier = { target = FROM modifier = HUN_given_territory2 }
	}
	
	#We have no need of those lands.
	option = {
		name = hungary_flavor.114.b
	}
}

# Meeting in Berlin
country_event = {
	id = hungary_flavor.115
	title = hungary_flavor.115.t
	desc = hungary_flavor.115.d
	picture = GFX_report_event_HUN_hitler_horthy_meeting
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { set_global_flag = HUN_GER_meeting_happened }
	}
	
	#We want no part of this.
	option = {
		name = hungary_flavor.115.a
		ai_chance = { 
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		set_global_flag = HUN_GER_agreement_hungary_wants_nothing
		GER = { country_event = { id = hungary_flavor_ger.14 } }
	}
	
	#We will be content with Carpathian Ruthenia
	option = {
		name = hungary_flavor.115.b
		ai_chance = { 
			factor = 50
		}
		set_global_flag = HUN_GER_agreement_hungary_wants_carpathian_ruthenia
		GER = { country_event = { id = hungary_flavor_ger.14 } }
	}
	
	#We offer full cooperation, if they give us Slovakia
	option = {
		name = hungary_flavor.115.c
		ai_chance = { 
			factor = 30
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		set_global_flag = HUN_GER_agreement_hungary_wants_slovakia
		GER = { country_event = { id = hungary_flavor_ger.14 } }
	}
}

# Hitler agrees to our request
country_event = {
	id = hungary_flavor.116
	title = hungary_flavor.116.t
	desc = hungary_flavor.116.d
	picture = GFX_report_event_HUN_hitler_horthy_meeting
	
	is_triggered_only = yes
	
	#A successful meeting.
	option = {
		name = hungary_flavor.116.a
	}
}

# Inconclusive meeting
country_event = {
	id = hungary_flavor.117
	title = hungary_flavor.117.t
	desc = hungary_flavor.117.d
	picture = GFX_report_event_HUN_hitler_horthy_meeting
	
	is_triggered_only = yes
	
	#We shall still hope for the best of outcomes.
	option = {
		name = hungary_flavor.117.a
	}
}

# Peace with Britain
country_event = {
	id = hungary_flavor.120
	title = hungary_flavor.120.t
	desc = hungary_flavor.120.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	trigger = {
		has_war_with = ENG
		ENG = { has_country_flag = decree_against_hungary }
	}
	
	#Send the offer.
	option = {
		name = hungary_flavor.120.a
		ai_chance = {
			factor = 90
		}
		ENG = {
			country_event = { id = hungary_flavor_eng.4 }
			if = {
				limit = { any_owned_state = { NOT = { has_state_flag = HUN_claimed_by_HUN } } }
				custom_effect_tooltip = HUN_will_get_all_non_claimed_territory
			}
			effect_tooltip = {
				custom_effect_tooltip = HUN_britain_and_allies_will_peace_out
				custom_effect_tooltip = needs_approval
			}
		}
	}
	
	#We are not done with this war yet.
	option = {
		ai_chance = {
			factor = 10
		}
		name = hungary_flavor.120.b
	}
}

# Britain accepts
country_event = {
	id = hungary_flavor.121
	title = hungary_flavor.121.t
	desc = hungary_flavor.121.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	#Peace at last.
	option = {
		name = hungary_flavor.121.a
	}
}

# The war continues
country_event = {
	id = hungary_flavor.122
	title = hungary_flavor.122.t
	desc = hungary_flavor.122.d
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes
	
	#They will regret not signing the peace now.
	option = {
		name = hungary_flavor.122.a
	}
}

# Slovakian self governance
country_event = {
	id = hungary_flavor.123
	title = hungary_flavor.123.t
	desc = hungary_flavor.123.d
	picture = GFX_report_event_HUN_southern_slovakia
	
	fire_only_once = yes
	
	trigger = {
		tag = HUN
		owns_state = 70		#Western Slovakia
		owns_state = 71		#Eastern Slovakia
		owns_state = 73		#Carpathian Ruthenia
		owns_state = 664	#Southern Slovakia
		owns_state = 748	#Beregszasz
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	#We will not set up a new government.
	option = {
		name = hungary_flavor.123.a
	}
	
	#Set up all of Slovakia as a puppet state.
	option = {
		name = hungary_flavor.123.b
		SLO = {
			transfer_state = 762	#Western Slovakia
			add_state_core = 762	#Western Slovakia
			transfer_state = 770		#Western Slovakia
			add_state_core = 770		#Western Slovakia
			transfer_state = 776		#Western Slovakia
			add_state_core = 776		#Western Slovakia
			transfer_state = 779		#Western Slovakia
			add_state_core = 779		#Western Slovakia
			transfer_state = 70		#Western Slovakia
			add_state_core = 70		#Western Slovakia
			transfer_state = 71		#Eastern Slovakia
			add_state_core = 71		#Eastern Slovakia
			transfer_state = 73		#Carpathian Ruthenia
			add_state_core = 73		#Carpathian Ruthenia
			transfer_state = 664	#Southern Slovakia
			add_state_core = 664	#Southern Slovakia
			transfer_state = 748	#Beregszasz
			add_state_core = 748	#Beregszasz
		}
		if = { limit = { 70 = { is_core_of = ROOT } } remove_state_core = 70 }  				#Western Slovakia
		70 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Western Slovakia
		if = { limit = { 71 = { is_core_of = ROOT } } remove_state_core = 71 }  				#Eastern Slovakia
		71 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Eastern Slovakia
		if = { limit = { 73 = { is_core_of = ROOT } } remove_state_core = 73 }  				#Carpathian Ruthenia
		73 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Carpathian Ruthenia
		if = { limit = { 664 = { is_core_of = ROOT } } remove_state_core = 664 }  				#Southern Slovakia
		664 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Southern Slovakia
		if = { limit = { 748 = { is_core_of = ROOT } } remove_state_core = 748 }  				#Beregszasz
		748 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Beregszasz
		if = {
			limit = { has_dlc = "Together for Victory" }
			set_autonomy = {
				target = SLO
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.5
			}
			else = { puppet = SLO }
		}
	}
	
	#Set up Northern Slovakia as a puppet state.
	option = {
		name = hungary_flavor.123.c
		SLO = {
			transfer_state = 762	#Western Slovakia
			add_state_core = 762	#Western Slovakia
			transfer_state = 770		#Western Slovakia
			add_state_core = 770		#Western Slovakia
			transfer_state = 776		#Western Slovakia
			add_state_core = 776		#Western Slovakia
			transfer_state = 70		#Western Slovakia
			add_state_core = 70		#Western Slovakia
			transfer_state = 71		#Eastern Slovakia
			add_state_core = 71		#Eastern Slovakia
			transfer_state = 73		#Carpathian Ruthenia
			add_state_core = 73		#Carpathian Ruthenia
			transfer_state = 748		#Carpathian Ruthenia
			add_state_core = 748		#Carpathian Ruthenia
		}
		if = { limit = { 70 = { is_core_of = ROOT } } remove_state_core = 70 }  				#Western Slovakia
		70 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Western Slovakia
		if = { limit = { 71 = { is_core_of = ROOT } } remove_state_core = 71 }  				#Eastern Slovakia
		71 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Eastern Slovakia
		if = { limit = { 73 = { is_core_of = ROOT } } remove_state_core = 73 }  				#Carpathian Ruthenia
		73 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Carpathian Ruthenia
		if = {
			limit = { has_dlc = "Together for Victory" }
			set_autonomy = {
				target = SLO
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.5
			}
			else = { puppet = SLO }
		}
	}
	
	#Set up Northern Slovakia as a puppet state, but keep Carpathian Ruthenia.
	option = {
		name = hungary_flavor.123.e
		SLO = {
			transfer_state = 770		#Western Slovakia
			add_state_core = 770		#Western Slovakia
			transfer_state = 776		#Western Slovakia
			add_state_core = 776		#Western Slovakia
			transfer_state = 70		#Western Slovakia
			add_state_core = 70		#Western Slovakia
			transfer_state = 71		#Eastern Slovakia
			add_state_core = 71		#Eastern Slovakia
		}
		if = { limit = { 70 = { is_core_of = ROOT } } remove_state_core = 70 }  				#Western Slovakia
		70 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Western Slovakia
		if = { limit = { 71 = { is_core_of = ROOT } } remove_state_core = 71 }  				#Eastern Slovakia
		71 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN }	#Eastern Slovakia
		if = {
			limit = { has_dlc = "Together for Victory" }
			set_autonomy = {
				target = SLO
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.5
			}
			else = { puppet = SLO }
		}
	}
}

# Claims on Yugoslavia
country_event = {
	id = hungary_flavor.124
	title = hungary_flavor.124.t
	desc = hungary_flavor.124.d
	picture = GFX_report_event_yugoslavian_partition
	
	is_triggered_only = yes
	
	#We will renounce all claims towards Yugoslavia.
	option = {
		name = hungary_flavor.124.a
		custom_effect_tooltip = HUN_will_renounce_claims_on_all_yugoslavian_lands
		hidden_effect = {
			if = { limit = { 102 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 102 remove_state_core = 102 102 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Slovenia
			if = { limit = { 103 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 103 remove_state_core = 103 103 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Dalmatia
			if = { limit = { 104 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 104 remove_state_core = 104 104 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Bosnia
			if = { limit = { 109 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 109 remove_state_core = 109 109 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Slavonia
			if = { limit = { 163 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 163 remove_state_core = 163 163 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Zara
			if = { limit = { 736 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 736 remove_state_core = 736 736 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Istria
			if = { limit = { 744 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 744 remove_state_core = 744 744 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Torontal
			if = { limit = { 745 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 745 remove_state_core = 745 745 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Srem
			if = { limit = { 747 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 747 remove_state_core = 747 747 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Fiume
			if = { limit = { 749 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 749 remove_state_core = 749 749 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Croatia
			if = { limit = { 751 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 751 remove_state_core = 751 751 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Ljubljana
			if = { limit = { 754 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 754 remove_state_core = 754 754 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Kotor
			if = { limit = { 755 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 755 remove_state_core = 755 755 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Primorska
			if = { limit = { 759 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 759 remove_state_core = 759 759 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Pag
			
			if = { limit = { 746 = { OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 746 remove_state_core = 746 746 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Muraköz
			if = { limit = { 45 = { OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 45 remove_state_core = 45 45 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }		#Backa
		}
	}
	
	#We still want the territories, that have a Hungarian majority.
	option = {
		name = hungary_flavor.124.b
		custom_effect_tooltip = HUN_will_renounce_claims_on_all_non_hungarian_yugoslavian_lands
		hidden_effect = {
			if = { limit = { 102 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 102 remove_state_core = 102 102 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Slovenia
			if = { limit = { 103 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 103 remove_state_core = 103 103 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Dalmatia
			if = { limit = { 104 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 104 remove_state_core = 104 104 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Bosnia
			if = { limit = { 109 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 109 remove_state_core = 109 109 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Slavonia
			if = { limit = { 163 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 163 remove_state_core = 163 163 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Zara
			if = { limit = { 736 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 736 remove_state_core = 736 736 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Istria
			if = { limit = { 744 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 744 remove_state_core = 744 744 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Torontal
			if = { limit = { 745 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 745 remove_state_core = 745 745 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Srem
			if = { limit = { 747 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 747 remove_state_core = 747 747 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Fiume
			if = { limit = { 749 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 749 remove_state_core = 749 749 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Croatia
			if = { limit = { 751 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 751 remove_state_core = 751 751 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Ljubljana
			if = { limit = { 754 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 754 remove_state_core = 754 754 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Kotor
			if = { limit = { 755 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 755 remove_state_core = 755 755 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Primorska
			if = { limit = { 759 = { NOT = { is_owned_by = ROOT } OR = { is_owned_by = YUG is_core_of = YUG } } } remove_state_claim = 759 remove_state_core = 759 759 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Pag
		}
	}
	
	#We will not be renouncing any claims.
	option = {
		name = hungary_flavor.124.c
	}
}

# Claims on Croatia
country_event = {
	id = hungary_flavor.125
	title = hungary_flavor.125.t
	desc = hungary_flavor.125.d
	picture = GFX_report_event_yugoslavian_partition
	
	fire_only_once = yes
	
	trigger = {
		tag = HUN
		OR = {
			109 = { has_state_flag = HUN_is_claimed_by_HUN }	#Slavonia
			749 = { has_state_flag = HUN_is_claimed_by_HUN }	#Croatia
			747 = { has_state_flag = HUN_is_claimed_by_HUN }	#Fiume
			759 = { has_state_flag = HUN_is_claimed_by_HUN }	#Pag
			163 = { has_state_flag = HUN_is_claimed_by_HUN }	#Zara
			103 = { has_state_flag = HUN_is_claimed_by_HUN }	#Dalmatia
			754 = { has_state_flag = HUN_is_claimed_by_HUN }	#Kotor
			736 = { has_state_flag = HUN_is_claimed_by_HUN }	#Istria
		}
		CRO = { 
			exists = yes 
			OR = {
				owns_state = 109	#Slavonia
				owns_state = 749	#Croatia
				owns_state = 747	#Fiume
				owns_state = 759	#Pag
				owns_state = 163	#Zara
				owns_state = 103	#Dalmatia
				owns_state = 754	#Kotor
				owns_state = 736	#Istria
			}
		}
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	#We will renounce all claims towards Croatia.
	option = {
		name = hungary_flavor.125.a
		custom_effect_tooltip = HUN_will_renounce_claims_on_all_croatian_lands
		hidden_effect = {
			if = { limit = { 109 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 109 remove_state_core = 109 109 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Slavonia
			if = { limit = { 749 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 749 remove_state_core = 749 749 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Croatia
			if = { limit = { 747 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 747 remove_state_core = 747 747 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Fiume
			if = { limit = { 759 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 759 remove_state_core = 759 759 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Pag
			if = { limit = { 163 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 163 remove_state_core = 163 163 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Zara
			if = { limit = { 103 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 103 remove_state_core = 103 103 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Dalmatia
			if = { limit = { 754 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 754 remove_state_core = 754 754 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Kotor
			if = { limit = { 736 = { NOT = { is_owned_by = ROOT } } } remove_state_claim = 736 remove_state_core = 736 736 = { set_state_flag = HUN_claim_forbidden clr_state_flag = HUN_is_claimed_by_HUN } }	#Istria
		}
	}
	
	#We maintain all claims towards Croatia.
	option = {
		name = hungary_flavor.125.b
	}
}

# Fight for Transylvania
country_event = {
	id = hungary_flavor.127
	title = hungary_flavor.127.t
	desc = hungary_flavor.127.d
	picture = GFX_report_event_HUN_transylvania
	
	is_triggered_only = yes
	
	trigger = {
		tag = HUN
		OR = {
			is_in_faction_with = ENG
			is_in_faction = no
		}
		ENG = { is_faction_leader = yes }
		ROM = {
			has_war_with = ENG
			NOT = { has_war_with = ROOT }
			owns_state = 83		#Grisana
			owns_state = 84		#Transylvania
		}
	}
	
	mean_time_to_happen = {
		hours = 0
	}
	
	#Offer our help in return for Transylvania.
	option = {
		name = hungary_flavor.127.a	
		if = {
			limit = { is_in_faction_with = ENG }
			if = { limit = { NOT = { owns_state = 83 } } add_state_claim = 83 }			#Grisana
			if = { limit = { NOT = { owns_state = 84 } } add_state_claim = 84 }			#Transylvania
			if = { limit = { NOT = { owns_state = 76 } } add_state_claim = 76 }			#North Transylvania	
			if = { limit = { NOT = { owns_state = 752 } } add_state_claim = 752 }		#Maramaros
			if = { limit = { NOT = { owns_state = 753 } } add_state_claim = 753 }		#Northern Partium
			declare_war_on = { target = ROM type = puppet_wargoal_focus }
			
			else = { ENG = { country_event = { id = hungary_flavor_eng.5 } } }
		}
	}
	
	#Try to stay neutral as long as possible.
	option = {
		name = hungary_flavor.127.b
	}
}

# United Kingdom refuses help
country_event = {
	id = hungary_flavor.128
	title = hungary_flavor.128.t
	desc = hungary_flavor.128.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	#We both could have benefited from this.
	option = {
		name = hungary_flavor.128.a
	}
}

# Military land survey
country_event = {
	id = hungary_flavor.136
	title = hungary_flavor.136.t
	desc = hungary_flavor.136.d
	picture = GFX_report_event_HUN_military_survey
	
	is_triggered_only = yes
	
	#Ok.
	option = {
		name = hungary_flavor.136.a
	}
}

# Germany seeks access through Hungarian lands to Poland
country_event = {
	id = hungary_flavor.137
	title = hungary_flavor.137.t
	desc = hungary_flavor.137.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	#Let them trhough.
	option = {
		name = hungary_flavor.137.a
		ai_chance = { 
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		set_country_flag = HUN_allowing_german_troops_through
		add_political_power = 20
		GER = {
			custom_effect_tooltip = HUN_will_gain_access_through_hungary
			hidden_effect = { country_event = { id = hungary_flavor_ger.18 } }
		}
	}
	
	#We won't betray our Polish friends.
	option = {
		name = hungary_flavor.137.b
		ai_chance = { 
			factor = 80
		}
		GER = {
			add_opinion_modifier = { target = HUN modifier = HUN_forbids_military_access }
			hidden_effect = { country_event = { id = hungary_flavor_ger.19 } }
		}
	}
}

# Polish refugees
country_event = {
	id = hungary_flavor.138
	title = hungary_flavor.138.t
	desc = hungary_flavor.138.d
	picture = GFX_report_event_HUN_polish_refugees
	
	trigger = {
		tag = HUN
		NOT = { has_country_flag = HUN_allowing_german_troops_through }
		OR = {
			owns_state = 70		#Western Slovakia
			owns_state = 71		#Eastern Slovakia
			owns_state = 73		#Carpathian Ruthenia
			is_neighbor_of = POL
		}
		POL = {
			exists = yes
			has_war_with = GER
			NOT = { has_war_with = HUN }
			surrender_progress > 0.5
		}
	}
	
	mean_time_to_happen = {
		days = 14
	}
	
	fire_only_once = yes
	
	#Let them in.
	option = {
		name = hungary_flavor.138.a
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = POL
					has_war_with = GER
				}
			}
			add_opinion_modifier = { target = HUN modifier = HUN_allowed_polish_refugees_through_pos }
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = GER
					has_war_with = POL
				}
			}
			add_opinion_modifier = { target = HUN modifier = HUN_allowed_polish_refugees_through_neg }
		}
		add_political_power = 10
		if = {
			limit = {
				FRA = {
					exists = yes
					OR = {
						owns_state = 677	#Aleppo
						owns_state = 553	#Lebanon
					}
					OR = {
						is_in_faction_with = POL
						has_war_with = GER
					}
				}
			}
			FRA = { add_manpower = 10000 }
			else = {
				random_country = {
					limit = {
						OR = {
							is_in_faction_with = POL
							has_war_with = GER
						}
					}
					add_manpower = 10000
				}			
			}
		}
	}
	
	#They have no place within our borders
	option = {
		name = hungary_flavor.138.b
	}
}

# The Zaolzie question
country_event = {
	id = hungary_flavor.139
	title = hungary_flavor.139.t
	desc = hungary_flavor.139.d
	picture = GFX_report_event_HUN_czechoslovakia
	
	trigger = {
		tag = HUN
		is_in_faction_with = POL
		72 = {		# Zaolzie
			owner = {
				NOT = { tag = POL }
				OR = {
					tag = HUN
					is_puppet_of = HUN
					is_subject_of = HUN
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 6
	}
	
	fire_only_once = yes
	
	# Zaolzie belongs to Poland.
	option = {
		name = hungary_flavor.139.a
		add_political_power = 25
		POL = { transfer_state = 72 }		# Zaolzie
		POL = { add_opinion_modifier = { target = HUN modifier = HUN_given_territory1 } }
		hidden_effect = {
			72 = {	# Zaolzie
				remove_core_of = HUN
				remove_claim_by = HUN
				clr_state_flag = HUN_is_claimed_by_HUN
				set_state_flag = HUN_claim_forbidden
			}
		}
	}
	
	# Things are fine just the way they are.
	option = {
		name = hungary_flavor.139.b
	}
}

# Germany agrees to Burgenland deal
country_event = {
	id = hungary_flavor.140
	title = hungary_flavor.140.t
	desc = hungary_flavor.140.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Great news.
	option = {
		name = hungary_flavor.140.a
		transfer_state = 743	#Burgenland
		add_manpower = -50000
		effect_tooltip = {
			GER = {
				add_manpower = 50000
			}
		}
	}
}

# Germany refuses Burgenland deal
country_event = {
	id = hungary_flavor.141
	title = hungary_flavor.141.t
	desc = hungary_flavor.141.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Their pride does them little good now.
	option = {
		name = hungary_flavor.141.a
	}
}